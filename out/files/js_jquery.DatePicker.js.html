<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js\jquery.DatePicker.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title=""></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Table.html">Table</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js\jquery.DatePicker.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /**
                         * jQuery DatePicker
                         * author: admin@laoshu133.com
                         * create: 2012.05.11
                         * update: 2014.11.20
                         *
                         * -- 接口说明 --
                         *    @Options {Object}
                         *        - {
                         *            shell: null,                         //触发元素，如果为input类，onselect会自动设置值
                         *            shellTriggerEvent: &#x27;focus&#x27;,       	 //显示DatePicker的默认触发事件
                         *            follow: null,                        //跟随元素，如果没有，则为 shell
                         *            followOffset: [0, 0],                //跟随偏移值[x, y]
                         *            showMode: 0,                         //显示模式：0 - 年月日, 1 - 年月, 2 - 年
                         *            autoHide: true,                      //是否自动隐藏，如果为 true，当触发 document的click时，会自动隐藏
                         *            effect: &#x27;show&#x27;,                      //默认打开动画，基于JQ默认动画，默认：show
                         *            effectDuration: 0,                   //动画时长，和effect配合使用
                         *            altFormat: &#x27;yyyy-mm-dd&#x27;,             //返回时间格式
                         *            unitYearSize: 12,                    //选择年份时，每页显示个数
                         *            defaultDate: null,                   //默认值
                         *            minDate: null,                       //最小值，默认：1680-1-1
                         *            maxDate: null,                       //最大值，默认：2999-12-12
                         *            onselect: ds.noop,                	 //选择时，回调函数
                         *            onmouseenter: ds.noop,               //鼠标进入DatePicker区域，触发
                         *            onmouseleave: ds.noop                //鼠标离开DatePicker区域，触发
                         *        }
                         * -- 接口说明 end --
                         */
                        
                        ;(function(global, document, $, undefined){
                            //base
                            var
                            rword = /([^,| ]+)/g,
                            rblock = /\{([^\}]*)\}/ig,
                            ds = {
                                noop: function(){},
                                mix: function(target, source, cover){
                                    if(typeof source !== &#x27;object&#x27;){
                                        cover = source;
                                        source = target;
                                        target = this;
                                    }
                                    for(var k in source){
                                        if(cover || target[k] === undefined){
                                            target[k] = source[k];
                                        }
                                    }
                                    return target;
                                },
                                mixStr: function(sStr){
                                    var args = Array.prototype.slice.call(arguments, 1);
                                    return sStr.replace(rblock, function(a, i){
                                        return args[i] != null ? args[i] : a;
                                    });
                                },
                                paddStr: function(str, len){
                                    return (&#x27;00000000000&#x27; + str).slice(-len);
                                },
                                nodeName: function(elem, name){
                                    var n = elem.nodeName.toUpperCase();
                                    return typeof name === &#x27;string&#x27; ? n === name.toUpperCase() : n;
                                }
                            };
                        
                            //DatePicker
                            var
                            _uuid = 0,
                            DOC = $(document),
                            DatePicker = global.DatePicker = function(ops){
                                this.init(ops || {});
                            },
                            _panelTmpl = &#x27;&lt;div class=&quot;date_picker&quot;&gt;{0}&lt;/div&gt;&#x27;,
                            _fixTmpl = &#x27;&lt;i class=&quot;tl&quot;&gt;&lt;/i&gt;&lt;i class=&quot;tr&quot;&gt;&lt;/i&gt;&lt;i class=&quot;br&quot;&gt;&lt;/i&gt;&lt;i class=&quot;bl&quot;&gt;&lt;/i&gt;&lt;i class=&quot;line&quot;&gt;&lt;/i&gt;&#x27;,
                            _yearTmpl = &#x27;&lt;div class=&quot;picker_year&quot;&gt;&lt;strong title=&quot;点击以选择年份&quot;&gt;{0}&lt;/strong&gt;&lt;em class=&quot;arrow_t&quot; title=&quot;前一年&quot;&gt;&lt;/em&gt;&lt;em class=&quot;arrow_b&quot; title=&quot;后一年&quot;&gt;&lt;/em&gt;&lt;div class=&quot;picker_panel&quot;&gt;&lt;div class=&quot;picker_inner&quot;&gt;{1}&lt;/div&gt;&lt;strong class=&quot;prev&quot; title=&quot;前{2}年&quot;&gt;&lt;em class=&quot;arrow_l&quot;&gt;&lt;/em&gt;&lt;/strong&gt;&lt;strong class=&quot;next&quot; title=&quot;后{2}年&quot;&gt;&lt;em class=&quot;arrow_r&quot;&gt;&lt;/em&gt;&lt;/strong&gt;&lt;i class=&quot;tab&quot;&gt;&lt;/i&gt;&lt;/div&gt;{3}&lt;/div&gt;&#x27;,
                            _monthTmpl = &#x27;&lt;div class=&quot;picker_month&quot;&gt;&lt;strong title=&quot;点击以选择月份&quot;&gt;{0}&lt;/strong&gt;&lt;em class=&quot;arrow_t&quot; title=&quot;前一月&quot;&gt;&lt;/em&gt;&lt;em class=&quot;arrow_b&quot; title=&quot;后一月&quot;&gt;&lt;/em&gt;&lt;div class=&quot;picker_panel&quot;&gt;&lt;div class=&quot;picker_inner&quot;&gt;{1}&lt;/div&gt;&lt;strong class=&quot;prev&quot; title=&quot;前一年&quot;&gt;&lt;em class=&quot;arrow_l&quot;&gt;&lt;/em&gt;&lt;/strong&gt;&lt;strong class=&quot;next&quot; title=&quot;后一年&quot;&gt;&lt;em class=&quot;arrow_r&quot;&gt;&lt;/em&gt;&lt;/strong&gt;&lt;i class=&quot;tab&quot;&gt;&lt;/i&gt;&lt;/div&gt;{2}&lt;/div&gt;&#x27;,
                            _dayTmpl = &#x27;&lt;div class=&quot;picker_day&quot;&gt;&lt;strong title=&quot;点击以选择日期&quot;&gt;{0}&lt;/strong&gt;&lt;em class=&quot;arrow_t&quot; title=&quot;前一天&quot;&gt;&lt;/em&gt;&lt;em class=&quot;arrow_b&quot; title=&quot;后一天&quot;&gt;&lt;/em&gt;&lt;div class=&quot;picker_panel&quot;&gt;&lt;div class=&quot;picker_inner&quot;&gt;{1}&lt;/div&gt;&lt;strong class=&quot;prev&quot; title=&quot;前一月&quot;&gt;&lt;em class=&quot;arrow_l&quot;&gt;&lt;/em&gt;&lt;/strong&gt;&lt;strong class=&quot;next&quot; title=&quot;后一月&quot;&gt;&lt;em class=&quot;arrow_r&quot;&gt;&lt;/em&gt;&lt;/strong&gt;&lt;i class=&quot;tab&quot;&gt;&lt;/i&gt;&lt;/div&gt;{2}&lt;/div&gt;&#x27;;
                        
                            DatePicker.defaultOptions = {
                                shell: null,
                                shellTriggerEvent: &#x27;focus&#x27;,
                                follow: null,
                                followOffset: [0, 0],
                                showMode: 0,    //0 - 年月日, 1 - 年月, 2 - 年
                                autoHide: true,
                                effect: &#x27;show&#x27;,
                                effectDuration: 0,
                                altFormat: &#x27;yyyy-mm-dd&#x27;,
                                unitYearSize: 12,
                                defaultDate: null,
                                minDate: null,
                                maxDate: null,
                                onselect: ds.noop,
                                onmouseenter: ds.noop,
                                onmouseleave: ds.noop
                            };
                            DatePicker.formatDate = function(date, format){
                                if(typeof date === &#x27;string&#x27;){
                                    date = date.split(&#x27;-&#x27;);
                                    return ds.paddStr(date[0], 4) + &#x27;-&#x27; + ds.paddStr(date[1], 2) + &#x27;-&#x27; + ds.paddStr(date[2], 2);
                                }
                                var
                                year = date.getFullYear() + &#x27;&#x27;, month = date.getMonth() + 1, day = date.getDate(),
                                ret = format.replace(/yyyy/g, year).replace(/yy/g, year.slice(-2));
                                ret = ret.replace(/mm/g, ds.paddStr(month, 2)).replace(/m/g, month);
                                ret = ret.replace(/dd/g, ds.paddStr(day, 2)).replace(/d/g, day);
                                return ret;
                            };
                            DatePicker.parseDate = function(formatDate, splitStr){
                                splitStr = splitStr || &#x27;-&#x27;;
                                var
                                date = new Date(),
                                rDate = new RegExp(&#x27;(\\d+)\\&#x27; + splitStr + &#x27;(\\d+)\\&#x27; + splitStr + &#x27;(\\d+)&#x27;);
                                if(rDate.test(formatDate)){
                                    date.setFullYear(RegExp.$1);
                                    date.setMonth(parseInt(RegExp.$2, 10) - 1);
                                    date.setDate(RegExp.$3);
                                }
                                return date;
                            };
                            DatePicker.prototype = {
                                constructor : DatePicker,
                                init: function(ops){
                                	var _ops = DatePicker.defaultOptions;
                                    for(var k in _ops){
                                        if(ops[k] === void 0){
                                            ops[k] = _ops[k];
                                        }
                                    }
                        
                                    var
                                    self = this,
                                    shell = this.shell = $(ops.shell).bind(ops.shellTriggerEvent + &#x27;.DatePicker&#x27;, function(){
                                    	self.show();
                                    });
                                    shell[0] &amp;&amp; (this.shellGetMethod = &#x27;value&#x27; in shell[0] ? &#x27;val&#x27; : &#x27;html&#x27;);
                                    this.follow = !!ops.follow ? $(ops.follow) : shell;
                        
                                    this.ops = ops;
                                    this.id = ++_uuid;
                                    this.currDate = DatePicker.parseDate(ops.defaultDate);
                                    this.minDate = DatePicker.parseDate(ops.minDate || &#x27;1680-1-1&#x27;);
                                    this.maxDate = DatePicker.parseDate(ops.maxDate || &#x27;2999-12-12&#x27;);
                                    this.initField().position();
                                },
                                destroy: function(){
                                    this.shell.unbind(this.ops.shellTriggerEvent + &#x27;.DatePicker&#x27;).removeData(&#x27;DatePicker&#x27;);
                                    this.shell = this.follow = null;
                                    this.DOM.remove();
                                },
                                position: function(x, y){
                                    if(typeof x !== &#x27;number&#x27;){
                                        var ops = this.ops, pos = this.follow.offset();
                                        x = pos.left + ops.followOffset[0];
                                        y = pos.top + ops.followOffset[1];
                                    }
                                    this.DOM.css({left:x, top:y});
                                    return this;
                                },
                                show: function(){
                                    var self = this, ops = this.ops;
                                    this.hidePanel().position();
                                    this.DOM[ops.effect](ops.effectDuration &gt; 0 ? ops.effectDuration : undefined);
                        
                                    DOC.unbind(&#x27;click.datePicker_&#x27; + this.id);
                                    if(ops.autoHide) {
                                    	setTimeout(function() {
                                    		DOC.bind(&#x27;click.datePicker_&#x27; + self.id, function(e){
                                    			if(e.target !== self.shell[0]) {
                                    				DOC.unbind(&#x27;click.datePicker_&#x27; + self.id);
                                    				self.hide();
                                    			}
                                    		});
                                    	}, 32);
                                    }
                                    return this;
                                },
                                hide: function(){
                                    this.hidePanel().DOM.hide(); //必须先hidePanel, IE6, 7 display:none，在某些情况下有BUG
                                    DOC.unbind(&#x27;click.datePicker_&#x27; + this.id);
                                    return this;
                                },
                                initField: function(){
                                    var
                                    self = this,
                                    ops = this.ops,
                                    date = this.currDate,
                                    html = ds.mixStr(_yearTmpl, date.getFullYear(), &#x27;&#x27;, ops.unitYearSize, &#x27;&#x27;);
                                    if(ops.showMode &lt; 2){
                                        html += ds.mixStr(_monthTmpl, ds.paddStr(date.getMonth() + 1, 2), &#x27;&#x27;, &#x27;&#x27;);
                                    }
                                    if(ops.showMode &lt; 1){
                                        html += ds.mixStr(_dayTmpl, ds.paddStr(date.getDate(), 2), &#x27;&#x27;, &#x27;&#x27;);
                                    }
                                    //Elems
                                    var
                                    dom = this.DOM = $(ds.mixStr(_panelTmpl, html)).hide(),
                                    yearElem = this.yearElem = dom.find(&#x27;.picker_year&#x27;),
                                    monthElem = this.monthElem = dom.find(&#x27;.picker_month&#x27;),
                                    dayElem = this.dayElem = dom.find(&#x27;.picker_day&#x27;);
                                    this.yearLabel = yearElem.find(&#x27;strong&#x27;).eq(0);
                                    this.yearPanel = yearElem.find(&#x27;.picker_inner&#x27;).eq(0);
                                    this.monthLabel = monthElem.find(&#x27;strong&#x27;).eq(0);
                                    this.monthPanel = monthElem.find(&#x27;.picker_inner&#x27;).eq(0);
                                    this.dayLabel = dayElem.find(&#x27;strong&#x27;).eq(0);
                                    this.dayPanel = dayElem.find(&#x27;.picker_inner&#x27;).eq(0);
                                    function getMethod(elem){
                                        var method = &#x27;&#x27;;
                                        if(/picker_([^\s]+)/.test(elem.className)){
                                            method = RegExp.$1;
                                            return method.charAt(0).toUpperCase() + method.slice(1);;
                                        }
                                        return method;
                                    }
                                    dom.click(function(e){
                                        var
                                        tar = e.target,
                                        rdir = /next|prev/,
                                        nodeName = ds.nodeName(tar),
                                        parentNode = tar.parentNode,
                                        pClassName = parentNode.className,
                                        method = getMethod(parentNode);
                        
                                        //Sub Item
                                        if(nodeName === &#x27;A&#x27; &amp;&amp; pClassName.indexOf(&#x27;picker_inner&#x27;) &gt; -1){
                                            method = getMethod(parentNode.parentNode.parentNode);
                                            self[&#x27;set&#x27; + method](tar.innerHTML);
                                            if(method === &#x27;Year&#x27; &amp;&amp; ops.showMode &lt; 2){
                                                self.chooseMonth();
                                            }
                                            else if(method === &#x27;Month&#x27; &amp;&amp; ops.showMode &lt; 1){
                                                self.chooseDay();
                                            }
                                            else if(!ops.autoHide){
                                            	self.hidePanel();
                                            }
                                            else{
                                            	self.hide();
                                            }
                                        }
                                        //picker_panel next, prev
                                        else if(pClassName.indexOf(&#x27;picker_panel&#x27;) &gt; -1 || nodeName === &#x27;EM&#x27; &amp;&amp; rdir.test(pClassName)){
                                            if(nodeName === &#x27;I&#x27;){
                                                self.hidePanel();
                                            }
                                            else if(nodeName === &#x27;EM&#x27;){
                                                tar = parentNode;
                                                nodeName = ds.nodeName(tar);
                                            }
                                            if(nodeName === &#x27;STRONG&#x27;){
                                                method = getMethod(tar.parentNode.parentNode);
                                                var isNext = tar.className.indexOf(&#x27;next&#x27;) &gt; -1;
                                                if(method === &#x27;Day&#x27;){
                                                    self[isNext ? &#x27;nextMonth&#x27; : &#x27;prevMonth&#x27;]();
                                                }
                                                else if(method === &#x27;Month&#x27;){
                                                    self[isNext ? &#x27;nextYear&#x27; : &#x27;prevYear&#x27;]();
                                                }
                                                else if(method === &#x27;Year&#x27;){
                                                    self[isNext ? &#x27;nextYear&#x27; : &#x27;prevYear&#x27;](ops.unitYearSize);
                                                }
                                                self[&#x27;choose&#x27; + method]();
                                            }
                                        }
                                        //picker_$$
                                        else if(pClassName.indexOf(&#x27;picker_&#x27;) &gt; -1){
                                            if(nodeName === &#x27;STRONG&#x27;){
                                                self[&#x27;choose&#x27; + method]();
                                            }
                                            else{
                                                self[(tar.className.indexOf(&#x27;_t&#x27;) &gt; 0 ? &#x27;prev&#x27; : &#x27;next&#x27;) + method]();
                                            }
                                        }
                                        else{
                                            self.hidePanel();
                                        }
                                        //Stop Default
                                        e.stopPropagation();
                                        e.preventDefault();
                                    })
                                    //mouseenter, mouseleave
                                    .hover(function(){
                                        ops.onmouseenter.apply(self, arguments);
                                    }, function(){
                                        ops.onmouseleave.apply(self, arguments);
                                    });
                        
                                    document.body ? dom.appendTo(&#x27;body&#x27;) : $(function(){
                                        dom.appendTo(&#x27;body&#x27;);
                                    });
                                    return this;
                                },
                                getDate: function(format){
                                    return typeof format === &#x27;string&#x27; ? DatePicker.formatDate(this.currDate, format) : this.currDate;
                                },
                                setDate: function(date){
                                    var
                                    ops = this.ops,
                                    prevDate = this.currDate,
                                    currDate = typeof date === &#x27;object&#x27; ? date : DatePicker.parseDate(date);
                                    //Fix currDate
                                    currDate = this.currDate = new Date(Math.min(+this.maxDate, Math.max(+this.minDate, +currDate)));
                                    var
                                    prevFormatDate = this.currFormatDate,
                                    currFormatDate = this.currFormatDate = DatePicker.formatDate(currDate, ops.altFormat);
                        
                                    this.yearLabel.html(ds.paddStr(currDate.getFullYear(), 4));
                                    if(ops.showMode &lt; 2 &amp;&amp; prevDate.getMonth() !== currDate.getMonth()){
                                        this.monthLabel.html(ds.paddStr(currDate.getMonth() + 1, 2));
                                    }
                                    if(ops.showMode &lt; 1 &amp;&amp; prevDate.getDate() !== currDate.getDate()){
                                        this.dayLabel.html(ds.paddStr(currDate.getDate(), 2));
                                    }
                                    //Callback &amp; Set shell property
                                    if(currFormatDate !== prevFormatDate &amp;&amp; ops.onselect.call(this, currDate, currFormatDate) !== false){
                                        this.shell[0] &amp;&amp; this.shell[this.shellGetMethod](currFormatDate);
                                    }
                                    return this;
                                }
                            };
                            //Extend Funs
                            var
                            keys = &#x27;Year,Month,Day&#x27;,
                            fn = DatePicker.prototype,
                            hooks = {Day:&#x27;Date&#x27;, Year:&#x27;FullYear&#x27;},
                            prevFns = {
                                Year: function(val){
                                    val = parseInt(val, 10) || 1;
                                    var date = new Date(+this.currDate);
                                    date.setFullYear(date.getFullYear() - val);
                                    return this.setDate(date);
                                },
                                Month: function(val){
                                    val = parseInt(val, 10) || 1;
                                    var
                                    date = new Date(+this.currDate),
                                    year = date.getFullYear(),
                                    month = date.getMonth() - val;
                                    if(month &lt; 0){
                                        year--;
                                        month = month + 12;
                                        date.setFullYear(year);
                                    }
                                    date.setMonth(month);
                                    return this.setDate(date);
                                },
                                Day: function(val){
                                    val = parseInt(val, 10) || 1;
                                    var date = new Date(+this.currDate);
                                    date.setTime(+date - val * 24 * 60 * 60 * 1000);
                                    return this.setDate(date);
                                }
                            },
                            itemTmpl = &#x27;&lt;a href=&quot;javascript:;&quot; title=&quot;{1}&quot;{2}&gt;{0}&lt;/a&gt;&#x27;,
                            htmlFns = {
                                Year: function(date, minDate, maxDate, unitYearSize){
                                    var
                                    ret = &#x27;&#x27;,
                                    currYear = date.getFullYear(),
                                    endYear = maxDate.getFullYear(),
                                    startYear = Math.max(minDate.getFullYear(), currYear - parseInt(unitYearSize / 2, 10));
                                    for(var i=0; i&lt;unitYearSize &amp;&amp; (startYear + i) &lt;= endYear; i++){
                                        ret += ds.mixStr(itemTmpl, startYear + i, (startYear + i) + &#x27;年&#x27;, startYear + i !== currYear ? &#x27;&#x27; : &#x27; class=&quot;hover&quot;&#x27;);
                                    }
                                    return ret;
                                },
                                Month: function(date, minDate, maxDate){
                                    var
                                    ret = &#x27;&#x27;,
                                    currYear = date.getFullYear(),
                                    currMonth = date.getMonth() + 1,
                                    startMonth = currYear &gt; minDate.getFullYear() ? 1 : minDate.getMonth() + 1,
                                    endMonth = currYear &lt; maxDate.getFullYear() ? 12 : maxDate.getMonth() + 1;
                                    for(var i = startMonth; i &lt;= endMonth; i++){
                                        ret += ds.mixStr(itemTmpl, i, i + &#x27;月&#x27;, i !== currMonth ? &#x27;&#x27; : &#x27; class=&quot;hover&quot;&#x27;);
                                    }
                                    return ret;
                                },
                                Day: function(date, minDate, maxDate){
                                    var
                                    ret = &#x27;&#x27;,
                                    tmpDate = new Date(+date);
                                    currYear = date.getFullYear(),
                                    currMonth = date.getMonth() + 1,
                                    currDay = date.getDate();
                                    //week
                                    tmpDate.setDate(1);
                                    var
                                    startWeek = tmpDate.getDay(),
                                    weeks = [&#x27;天&#x27;, &#x27;一&#x27;, &#x27;二&#x27;, &#x27;三&#x27;, &#x27;四&#x27;, &#x27;五&#x27;, &#x27;六&#x27;];
                                    //Build
                                    var
                                    nowFormat = DatePicker.formatDate(new Date(), &#x27;yyyy-m-d&#x27;),
                                    startDay = currYear &gt; minDate.getFullYear() || currMonth &gt; minDate.getMonth() + 1 ? 1 : minDate.getDate(),
                                    endDay = currYear &lt; maxDate.getFullYear() || currMonth &lt; maxDate.getMonth() + 1 ? 31 : maxDate.getDate();
                                    for(var isNow, cName, title, formatDate, i=startDay; i&lt;=endDay; i++){
                                        formatDate = currYear + &#x27;-&#x27; + currMonth + &#x27;-&#x27; + i;
                                        if(i &gt; 28){
                                            tmpDate.setDate(i);
                                            if(formatDate !== DatePicker.formatDate(tmpDate, &#x27;yyyy-m-d&#x27;)){
                                                break;
                                            }
                                        }
                                        isNow = formatDate === nowFormat;
                                        //title = i + &#x27;日\n星期&#x27; + weeks[(i + startWeek - 1) % 7];
                                        title = ds.mixStr(&#x27;星期{3} &amp;#013;&amp;#010;{0}年{1}月{2}日{4}&#x27;, currYear, currMonth, currDay, weeks[(i + startWeek - 1) % 7], isNow ? &#x27;(今天)&#x27; : &#x27;&#x27;);
                                        cName = (isNow || i === currDay ? &#x27; hover&#x27; : &#x27; &#x27;) + (isNow ? &#x27; now&#x27; : &#x27;&#x27;);
                                        cName = cName.length &gt; 1 ? &#x27;class=&quot;&#x27; + cName.slice(1) + &#x27;&quot;&#x27; : &#x27;&#x27;;
                        
                                        ret += ds.mixStr(itemTmpl, i, title, cName);
                                    }
                                    return ret;
                                }
                            };
                            keys.replace(rword, function(a, k){
                                //Set
                                var rKey = hooks[k] || k;
                                fn[&#x27;set&#x27; + k] = function(val){
                                    var date = new Date(+this.currDate);
                                    if(k !== &#x27;Month&#x27;){
                                        date[&#x27;set&#x27; + rKey](val);
                                    }
                                    else{
                                        val = (parseInt(val, 10) || 1) - 1;
                                        date.setMonth(val);
                                        val &lt; date.getMonth() &amp;&amp; date.setDate(0);
                                    }
                                    return this.setDate(date);
                                };
                                //Next
                                fn[&#x27;next&#x27; + k] = function(val){
                                    val = parseInt(val, 10) || 1;
                                    var date = new Date(+this.currDate);
                                    date[&#x27;set&#x27; + rKey](date[&#x27;get&#x27; + rKey]() + val);
                                    return this.setDate(date);
                                };
                                //Prev
                                fn[&#x27;prev&#x27; + k] = prevFns[k] || ds.noop;
                                //Choose
                                fn[&#x27;choose&#x27; + k] = function(){
                                    var
                                    key = k.toLowerCase(),
                                    shell = this[key + &#x27;Elem&#x27;],
                                    panel = this[key + &#x27;Panel&#x27;],
                                    html = htmlFns[k](this.currDate, this.minDate, this.maxDate, this.ops.unitYearSize);
                                    this.hidePanel(function(k){ return k !== key; });
                        
                                    panel.html(html);
                                    shell.addClass(&#x27;focus&#x27;);
                                    panel.parent().show();
                                    return this;
                                }
                            });
                            //Hideanel, showPanel
                            ds.mix(fn, {
                                hidePanel: function(filter){
                                    var self = this;
                                    filter = filter || ds.noop;
                                    keys.replace(rword, function(a, k){
                                        k = k.toLowerCase();
                                        var shell = self[k + &#x27;Elem&#x27;], panel = self[k + &#x27;Panel&#x27;];
                                        if(filter.call(shell, k, panel) !== false){
                                            panel.parent().hide();
                                            shell.removeClass(&#x27;focus&#x27;);
                                        }
                                    });
                                    return this;
                                },
                                showPanel: function(name){
                                    name = name.toLowerCase();
                                    this.hidePanel(function(k){ return k !== name; });
                                    this[name + &#x27;Elem&#x27;].addClass(&#x27;focus&#x27;);
                                    this[name + &#x27;Panel&#x27;].parent().show();
                                    return this;
                                }
                            });
                            //Extend jQuery
                            var rdate = /\d+\-\d+\-\d+/;
                            $.fn.datePicker = function(ops){
                                typeof ops !== &#x27;object&#x27; &amp;&amp; (ops = {});
                                ops.shell = this;
                                var
                                minDate = this.attr(&#x27;min&#x27;),
                                maxDate = this.attr(&#x27;max&#x27;),
                                defaultDate = this[0].value;
                        
                                rdate.test(minDate) &amp;&amp; (ops.minDate = minDate);
                                rdate.test(maxDate) &amp;&amp; (ops.maxDate = maxDate);
                                rdate.test(defaultDate) &amp;&amp; (ops.defaultDate = defaultDate);
                                return this.data(&#x27;DatePicker&#x27;, new DatePicker(ops));
                            };
                            //Include CSS
                            var css = &#x27;.date_picker{ font:14px/1.5 &quot;5FAE8F6F96C59ED1&quot;,&quot;Microsoft Yahei&quot;,Arial; position:absolute;}.date_picker, .picker_panel{ width:183px;}.picker_year, .picker_month, .picker_day{ float:left; display:inline; background:#fff; border:1px solid #d3d3d3; border-radius:5px; box-shadow:0 0 4px rgba(0,0,0,.2); margin-right:1px; height:60px; width:58px; position:relative; z-index:1; white-space:nowrap;}.date_picker .focus{ z-index:2;}.date_picker .focus .picker_panel{ display:block;}.date_picker strong{ color:#666; cursor:pointer; margin-top:-10px; height:20px; width:100%; position:absolute; left:0; top:50%; text-align:center; z-index:3;}.date_picker .line{ border-top:1px solid #d3d3d3; font-size:0; height:0; width:100%; position:absolute; left:0; top:50%;}.date_picker .arrow_t, .date_picker .arrow_r, .date_picker .arrow_b, .date_picker .arrow_l{ border-color:#cbcbcb transparent; border-style:solid dashed; border-width:0 6px 6px; cursor:pointer; font-size:0; height:0; width:0; position:absolute; z-index:1;}.date_picker .arrow_t{ border-width:6px 6px 0; left:22px; bottom:6px;}.date_picker .arrow_b{ left:22px; top:6px;}.date_picker .arrow_r, .date_picker .arrow_l{ border-color:transparent #cbcbcb; border-style:dashed solid; border-width:6px 0 6px 6px;}.date_picker .arrow_l{ border-width:6px 6px 6px 0;}.picker_panel{ display:none; margin-left:-1px; position:absolute; left:0; top:36px; z-index:9;}.picker_panel .picker_inner{ background:#fff; border:1px solid #d3d3d3; border-radius:5px; padding:6px 0 5px 5px; position:relative; z-index:2; overflow:hidden; *zoom:1;}.picker_panel .picker_inner a{ float:left; border-radius:3px; color:#666; font:14px/25px Arial; height:25px; width:56px; text-align:center; text-decoration:none;}.picker_panel .picker_inner a:hover, .picker_panel .picker_inner a.hover{ background:#ddd; color:#333; text-decoration:none;}.picker_panel .picker_inner a:hover{ background:#d0d0d0;}.picker_panel .tab{ background:#fff; border:1px solid #d3d3d3; border-bottom-width:0; border-radius:5px 5px 0 0; font-size:0; height:18px; width:58px; position:absolute; left:0; top:-18px; z-index:3;}.picker_panel .prev, .picker_panel .next{ background:#fff; border:1px solid #d3d3d3; border-radius:12px; cursor:pointer; margin:-16px 0 0 -14px; height:24px; width:24px; position:absolute; left:0; top:50%; z-index:1; box-shadow:0 0 3px rgba(0,0,0,.2);}.picker_panel .next{ margin-left:0; margin-right:-14px; left:auto; right:0;}.picker_panel .arrow_l{ margin:-6px 0 0 4px; left:0; top:50%;}.picker_panel .arrow_r{ margin:-6px 4px 0 0; left:auto; right:0; top:50%;}.picker_panel .prev:hover, .picker_panel .next:hover{ border-color:#999;}.picker_panel .prev:hover .arrow_l, .picker_panel .next:hover .arrow_r{ border-color:transparent #999;}.picker_year .picker_inner{ border-radius:0 5px 5px 5px;}.picker_month .picker_panel{ margin-left:-62px;}.picker_month .picker_inner{ border-radius:5px 0 5px 5px;}.picker_month .tab{ margin-left:61px;}.picker_day .picker_panel{ margin-left:-123px;}.picker_day .picker_inner{ border-radius:5px 0 5px 5px;}.picker_day .tab{ margin-left:122px;}.picker_inner{ box-shadow:0 0 4px rgba(0,0,0,.2); margin:0 1px 0 0; overflow:hidden; *zoom:1;}.picker_main a{ float:left; cursor:pointer;}.picker_main a:hover{ background:#ccc;}&#x27;;
                            $(function(){
                                var style = document.createElement(&#x27;style&#x27;), head = document.head || document.getElementsByTagName(&#x27;head&#x27;)[0];
                                style.type = &#x27;text/css&#x27;;
                                !style.styleSheet ? (style.innerHTML = css) : (style.styleSheet.cssText = css);
                                head.insertBefore(style, head.firstChild);
                            });
                        })(this, document, jQuery);
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
